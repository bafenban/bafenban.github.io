<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml"
    href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%231f1f1f"><path d="m476-80 182-480h84L924-80h-84l-43-122H603L560-80h-84ZM160-200l-56-56 202-202q-35-35-63.5-80T190-640h84q20 39 40 68t48 58q33-33 68.5-92.5T484-720H40v-80h280v-80h80v80h280v80H564q-21 72-63 148t-83 116l96 98-30 82-122-125-202 201Zm468-72h144l-72-204-72 204Z"/></svg>'>
    <title>OpenAI 翻译器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>OpenAI 翻译器</h1>
        
        <div class="lang-selection">
            <select id="sourceLangSelect" class="lang-select"></select>
            <button id="swapButton" title="互换语言">⇌</button>
            <select id="targetLangSelect" class="lang-select"></select>
        </div>
        
        <!-- 更改：将按钮和状态信息移入此组，并添加 ID -->
        <div class="textarea-group">
            <!-- 输入框及其按钮的容器 -->
            <div class="textarea-wrapper" id="input-wrapper">
                <textarea id="inputText" placeholder="在这里输入您需要翻译的文本..." rows="10"></textarea>
                <!-- 新增：清除按钮 -->
                <button id="clearInputButton" class="textarea-corner-btn clear-btn" title="清除全部内容">❌</button>
            </div>
            
            <!-- 输出框及其按钮的容器 -->
            <div class="textarea-wrapper" id="output-wrapper">
                <textarea id="outputText" placeholder="翻译结果将显示在这里..." rows="10" readonly></textarea>
                <!-- 新增：复制按钮 -->
                <button id="copyOutputButton" class="textarea-corner-btn copy-btn" title="复制全部翻译结果">📋</button>
            </div>

            <!-- 已移动到 .textarea-group 内部 -->
            <button id="translateButton">翻译</button>
            <p id="statusMessage" class="status-hidden">正在连接 LLM API...</p>
        </div>
        
        <!-- 按钮和状态信息已从这里移走 -->

        <!-- 历史记录面板 (已移动到 API 设置上方) -->
        <details id="historyPanel" class="settings-panel history-panel">
            <summary>🕒 历史记录</summary>
            <div class="history-controls">
                <button id="clearHistoryButton">清空历史记录</button>
                <span id="historyCount">0 条记录</span>
            </div>
            <ul id="historyList" class="history-list">
                <!-- 历史记录项将由 JavaScript 渲染 -->
            </ul>
        </details>

        <details class="settings-panel">
            <summary>⚙️ API & 模型设置</summary>
            <div class="api-config">
                <input type="text" id="apiEndpoint" placeholder="OpenAI API 终端点 (默认: https://...)" value="https://api.openai.com/v1/chat/completions">
                <button id="resetUrlButton" title="重置为默认 OpenAI URL">重置 URL</button>
                
                <input type="password" id="apiKey" placeholder="您的 OpenAI API 密钥" autocomplete="off">
                
                <select id="modelSelect"></select>
                <input type="number" id="temperatureInput" placeholder="Temperature (0.0 - 2.0)" min="0.0" max="2.0" step="0.1" value="0.1">
                
                <div class="checkbox-group">
                    <input type="checkbox" id="streamingModeCheckbox" checked>
                    <label for="streamingModeCheckbox">使用流式输出</label>
                </div>
            </div>
        </details>
    </div>

    <script src="app.js"></script>
</body>

</html>


