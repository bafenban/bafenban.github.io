<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAI 翻译器</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>OpenAI 翻译器</h1>
        
        <div class="lang-selection">
            <select id="sourceLangSelect" class="lang-select"></select>
            <button id="swapButton" title="互换语言">⇌</button>
            <select id="targetLangSelect" class="lang-select"></select>
        </div>
        
        <div class="textarea-group">
            <!-- 1. Input Wrapper (Left) -->
            <div class="textarea-wrapper input-wrapper">
                <textarea id="inputText" placeholder="在这里输入您需要翻译的文本..." rows="10"></textarea>
                <!-- 清除按钮已移至右下角 -->
                <button id="clearInputButton" class="textarea-corner-btn clear-btn" title="清除全部内容">❌</button>
            </div>
            
            <!-- 2. Output Wrapper (Right) -->
            <div class="textarea-wrapper output-wrapper">
                <textarea id="outputText" placeholder="翻译结果将显示在这里..." rows="10" readonly></textarea>
                <!-- 复制按钮已移至右下角 -->
                <button id="copyOutputButton" class="textarea-corner-btn copy-btn" title="复制全部翻译结果">📋</button>
            </div>
        </div>

        <!-- 翻译按钮和状态信息 - 位于 textarea-group 外部，桌面端在下方 -->
        <div class="translate-button-wrapper">
            <p id="statusMessage" class="status-hidden">正在连接 LLM API...</p>
            <button id="translateButton">翻译</button> 
        </div>

        <!-- 历史记录面板 -->
        <details id="historyPanel" class="settings-panel history-panel">
            <summary>🕒 历史记录</summary>
            <div class="history-controls">
                <button id="clearHistoryButton">清空历史记录</button>
                <span id="historyCount">0 条记录</span>
            </div>
            <ul id="historyList" class="history-list">
                <!-- 历史记录项将由 JavaScript 渲染 -->
            </ul>
        </details>

        <details class="settings-panel">
            <summary>⚙️ API & 模型设置</summary>
            <div class="api-config">
                <input type="text" id="apiEndpoint" placeholder="OpenAI API 终端点 (默认: https://...)" value="https://api.openai.com/v1/chat/completions">
                <button id="resetUrlButton" title="重置为默认 OpenAI URL">重置 URL</button>
                
                <input type="password" id="apiKey" placeholder="您的 OpenAI API 密钥" autocomplete="off">
                
                <select id="modelSelect"></select>
                <input type="number" id="temperatureInput" placeholder="Temperature (0.0 - 2.0)" min="0.0" max="2.0" step="0.1" value="0.01">
                
                <div class="checkbox-group">
                    <input type="checkbox" id="streamingModeCheckbox" checked>
                    <label for="streamingModeCheckbox">使用流式输出</label>
                </div>
            </div>
        </details>
    </div>

    <script src="app.js"></script>
</body>

</html>
